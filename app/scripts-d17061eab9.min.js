!function(){"use strict";var e=angular.module("QburstCabManagement",["ngRoute"]);e.config(["$routeProvider",function(e){e.when("/",{templateUrl:"app/min_partials/login.html",controller:"LoginController"}).when("/bookcab",{templateUrl:"app/min_partials/bookcab.html",controller:"BookCabController"}).when("/triplist",{templateUrl:"app/min_partials/tripsList.html",controller:"TripController"}).when("/bookhistory",{templateUrl:"app/min_partials/cabHistory.html",controller:"CabHistoryController"}).otherwise({redirect:"/"})}])}(),function(){"use strict";angular.module("QburstCabManagement").controller("BookCabController",["$scope","$location","$rootScope","cabMngmtServices","$q",function(e,t,r,o,n){$(function(){$("#datetimepicker").datetimepicker({format:"mm/dd/yyyy",startDate:"01/01/2010",endDate:"12/30/2020"})}),e.submitted=!1,e.formData={},e.checkForPassengers=function(t){t&&(e.formData.coPassengers=[{name:"",destination:""}])},e.addPasssenger=function(){e.formData.coPassengers.push([{name:"",destination:""}])},e.removePasssenger=function(t){e.formData.coPassengers.splice(t,1),e.formData.coPassengers.length||(e.coPassengers.checked=!1)},e.loadWatchers=function(){e.watchersList=o.getAllApprovers().then(function(t){e.watchersList=t})},e.bookCab=function(){e.bookform.$valid?(e.formData.userEmail=localStorage.getItem("useremail"),e.formData.dateAndTime=e.date,localStorage.setItem("tripDetails",JSON.stringify(e.formData)),alert("Cab booked succesfully!"),e.clearFields()):(console.log("failed"),e.submitted=!0)},e.clearFields=function(){e.formData={}},e.cancelBooking=function(){}}])}(),function(){"use strict";angular.module("QburstCabManagement").controller("CabHistoryController",["$scope","$location","$rootScope","cabMngmtServices",function(e,t,r,o){e.tripDetails=JSON.parse(localStorage.getItem("trip"))}])}(),function(){"use strict";angular.module("QburstCabManagement").controller("LoginController",["$scope","$location","cabMngmtServices",function(e,t,r){e.submit=function(o,n){e.useremail&&e.password&&r.loginService(e.useremail,e.password).then(function(r){e.loggedData=r,e.userType=r.role,localStorage.setItem("usertype",e.userType),localStorage.setItem("userId",r.id),t.path("/bookcab")})}}])}(),function(){"use strict";angular.module("QburstCabManagement").controller("MenuController",["$scope","$location","cabMngmtServices",function(e,t,r){switch(e.userType=localStorage.getItem("usertype"),e.userType){case"1":e.bookScreenTabType="forEmployee";break;case"3":e.bookScreenTabType="forApprover";break;case"2":e.bookScreenTabType="forHr"}e.isActive=function(e){return e===t.path()}}])}(),function(){"use strict";angular.module("QburstCabManagement").controller("TripController",["$scope","$location","cabMngmtServices",function(e,t,r){}])}(),angular.module("QburstCabManagement").controller("getTripForUserController",["$scope","$http","$location","$rootScope","dataService","getTripForUserService",function(e,t,r,o,n,a){e.addItem=function(e){var t=a.saveTrip(e);t&&r.path("/bookcabHistory").replace()}}]),angular.module("QburstCabManagement").directive("autoComplete",["$timeout",function(e){return function(e,t,r){}}]),function(){"use strict";angular.module("QburstCabManagement").service("cabMngmtServices",["$http","$rootScope","$q",function(e,t,r){return t.trips=[],{loginService:function(t,o){var n="http://10.9.12.122:3000/users/login",a=r.defer(),i={email:t,password:o},s=e.post(n,i).then(function(e){return e.data.result},function(){return a.reject(arguments),a.reject(arguments)});return s},getAllApprovers:function(){var t=[],o="http://10.9.12.122:3000/users/getAllApprovers",n=r.defer(),a=e.get(o).then(function(e){return t=e.data.result,n.resolve(t),t},function(){return n.reject(arguments),n.reject(arguments)});return a},getUserDetails:function(e){var t={"Name of Passenger":e.nameOfPassenger,"Date and Time":e.dateAndTime,"Boarding Point":e.boardingPoint,Destination:e.destination};return console.log("hdg",t),!0},shareUserDataService:function(){var e={userEmail:"",userType:""};return{getUserData:function(){return e},setUserData:function(t,r){e.userEmail=t,e.userType=r}}},bookCabService:function(){t.trips.push({name:nameOfPassenger.title,DateOfJourney:dateAndTime.title,BoardingPoint:boardingPoint.title,Destination:destination.title})},getAllTripsService:function(){},getAllTripsForUserService:function(){},getAllTripsForApproverService:function(){},updateTripStatusService:function(){},updateVehicleDetailsService:function(){}}}])}();